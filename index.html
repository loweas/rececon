<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <meta name="description" content="Ashley Lowe (Orginal by Benji Antolin)" />
  <meta name="author" content="" />
  <title>ORR Survey Dashboard</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

  <!-- Favicon-->
  <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
  <!-- Font Awesome icons (free version)-->
  <script src="https://use.fontawesome.com/releases/v5.13.0/js/all.js" crossorigin="anonymous"></script>
  <!-- Google fonts-->
  <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
  <!-- Core theme CSS (includes Bootstrap)-->
  <link href="css/styles.css" rel="stylesheet" />
  <link href="css/c3.css" rel="stylesheet" />
  <!-- <link rel="icon" href="img/favicon.ico" type="image/x-icon"> -->
  <script src="https://kit.fontawesome.com/cfe8b4e9f5.js" crossorigin="anonymous"></script>
  <script src="js/d3.js"></script>
  <script src="js/c3.min.js"></script>
  <script src="js/chroma.min.js"></script>
  <script src="js/jquery-3.3.1.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
  <script src="js/simplebar.min.js"></script>

</head>

<body id="page-top">
  <!-- Navigation-->
  <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand js-scroll-trigger" href="#page-top"></a>
      <button class="navbar-toggler navbar-toggler-right text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#about"></a></li>
          <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#portfolio">Data</a></li>
          <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#twitter">Twitter</a></li>
          <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#assocations">Assocations</a></li>
        </ul>
      </div>
    </div>
  </nav>
  <!-- Masthead-->
  <header class="masthead bg-primary text-white text-center">
    <div class="container d-flex align-items-center flex-column">
      <!-- Masthead Heading-->
      <h1 class="masthead-heading text-uppercase mb-0">Covid-19 Impacts on the Outdoor Recreation Economy
</h1>
      <!-- Icon Divider-->
      <div class="divider-custom divider-light">

      </div>
      <!-- Masthead Subheading-->
      <p class="masthead-subheading font-weight-light mb-0">In partnership with the Oregon State University Outdoor Recreation Economy </p>
      <img class="masthead-avatar" src="osu1.png" alt="" />
    </div>
  </header>
  <section class="page-section bg-primary text-white mb-0" id="about">
    <div class="container">
      <!-- About Section Heading-->

      <!-- Icon Divider-->
      <div class="divider-custom divider-light">
        <div class="divider-custom-line"></div>

        <div class="divider-custom-line"></div>
      </div>
      <!-- About Section Content-->
      <div class="row">
        <div class="col-lg-4 ml-auto">
          <center>
        <i class="fas fa-chart-line fa-5x"></i>
      </center>
          <p class="lead">Just a few short months ago outdoor recreation was growing faster than almost any other industry, contributed over $778 billion to the U.S. economy and employed over 5.2 million Americans. Now, 79 percent of outdoor
            businesses have had to lay off or furlough employees and 89 percent are seeing decreased revenue.</p>
        </div>
        <div class="col-lg-4 mr-auto">
          <center>
          <i class="fas fa-head-side-mask fa-5x"></i>
        </center>
          <p class="lead">According to the US Census Bureau which measured Covid-19 impacts on small businesses, 75 percent of small business in our category are reporting large and negative effects. Overall, we have been hit 31 percent harder than
            the national average, making us the second most affected sector in the country behind ‘food and accommodation’. - (U.S. Census Bureau Small Business Pulse Survey).</p>
        </div>
        <div class="col-lg-4 mr-auto">
          <center>
          <i class="fas fa-bullhorn fa-5x"></i>
        </center>
          <p class="lead">Action is needed on smart policies and investments that will save
            the outdoor recreation economy so this sector can do what it does
            best – revitalize communities, create jobs, support healthy people,
            improve quality of life and provide access to amazing outdoor
            experiences for generations to come.</p>
        </div>
      </div>
    </div>
  </section>
  <!-- Portfolio Section-->
  <section class="page-section portfolio" id="portfolio">
    <div class="container">
      <!-- Portfolio Section Heading-->
      <h3 class="page-section-heading text-center text-uppercase text-secondary mb-0">Data on Covid-19 Effects by Industry  </h3>
      <!-- Icon Divider-->
      <div class="divider-custom">
        <div class="divider-custom-line"></div>
      </div>
      <center>
      <h2> Recreation by Industry </h2>
      </center>
      <div class="row">
        <div class="col-sm">
          <div id="buttons" class="card-deck">
            <button id="all" class="card icons">
              <center>
                <i class="fas fa-users"></i>
                <div class"buttuntext">
                ---  All ---
                </div>
            </button>
            </center>
            <button id="fishing" class="card icons">
              <center>
                <i class="fas fa-fish"></i>
                <div class"buttuntext">
                  -- Fishing --
                </div>
              </center>
            </button>
          </div>
        </div>
            <div class="col-md">
              <div id="buttons" class="card-deck counts" >
                <button id="camping" class="card icons">
                  <center>
                    <i class="fas fa-campground"></i>
                      <div class"buttuntext">
                        Campgrounds+<br>Hospitality
                              </div>
                            </center>
                          </button>
                          <button id="hunting" class="card icons">
                            <center>
                              <i class="fas fa-binoculars"></i>
                              <div class"buttuntext">
                                Hunting
                              </div>
                            </center>
                          </button>
                        </div>
                      </div>
                          <div class="col-sm">
                            <div id="buttons" class="card-deck counts" >
                              <button id="motor" class="card icons">
                                <center>
                                  <i class="fas fa-shuttle-van"></i>
                                  <div class"buttuntext">
                                    Motor Vehicle
                                  </div>
                                </center>
                              </button>
                              <button id="snow" class="card icons">
                                <center>
                                  <i class="fas fa-skiing"></i>
                                  <div class"buttuntext">
                                    Snowsports
                                  </div>
                                </center>
                              </button>
                            </div>
                          </div>

        <div class="col-sm">
          <div id="buttons" class="card-deck counts" >
            <button id="guides" class="card icons">
              <center>
                <i class="fas fa-hiking"></i>
                <div class"buttuntext">
                  Guides + Outfitters
                </div>
              </center>
            </button>
            <button id="water" class="card icons">
              <center>
                <i class="fas fa-swimmer"></i>
                <div class"buttuntext">
                  Water Sports
                </div>
              </center>
            </button>
          </div>
        </div>
            <div class="col-sm">
              <div id="buttons" class="card-deck counts" >
            <button id="service" class="card icons">
              <center>
                <i class="fas fa-concierge-bell"></i>
                <div class"buttuntext">
                  Service Providers
                </div>
              </center>
            </button>
            <button id="gear" class="card icons">
              <center>
                <i class="fas fa-compass"></i>
                <div class"buttuntext">
                  Gear + Equipment
                </div>
              </center>
            </button>
          </div>
        </div>
      </div>
      <div class="divider-custom">
        <div class="divider-custom-line"></div>
      </div>
      <center>
      <h4> Market Share</h4>
      </center>
      <div class="divider-custom">
        <div class="divider-custom-line"></div>
      </div>
      <div class="row">
        <!-- Portfolio Item 1-->
        <div class="col-md-6 col-lg-4 mb-5">
  <div class="card">

    <center>
      <div class="card-title">
        *Number of Trade Assosciation <br>Employees
      </div>
      <p class="card-text"><span class="sum1"></span></p>
    </center>
  </div>
</div>
<div class="col-md-6 col-lg-4 mb-5">
  <div class="card">
    <center>
      <div class="card-title">
        *Number of Member <br>Businesses
      </div>
      <p class="card-text"><span class="sum2"></span></p>
    </center>

    </div>
      </div>
      <div class="col-md-6 col-lg-4 mb-5">

  <div class="card">
    <center>
      <div class="card-title">
        *Number of Member Business <br>Employees
      </div>
      <p class="card-text"><span class="sum3"></span></p>
    </center>
  </div>
  </div>
</div>
<div class="row">
  <!-- Portfolio Item 1-->
  <div class="col-md-6 mb-5">
<div class="card">
<center>
<div class="card-title">
  *Association annual revenue (2019)
</div>
<p class="card-text"><span class="sum4"></span></p>
</center>
</div>
</div>
<div class="col-md-6 mb-5">
<div class="card">
<center>
<div class="card-title">
  *Industry annual revenue (2019)
</div>
<p class="card-text"><span class="sum5"></span></p>
</center>

</div>
</div>

</div>

<!-- Lets bring in the same graphs as before-->
      <div class="divider-custom">
        <div class="divider-custom-line"></div>
      </div>
      <center>
        <h3>Workforce Survey Results</h3>
      </center>
      <div class="divider-custom">
        <div class="divider-custom-line"></div>
      </div>
        <div class="row">

              <div class="col-md">

                  <div class="card-title">Has the global coronavirus pandemic disrupted your
                    industry's supply chain and/or distribution of product?</div>
                <br>

                <ul>
                  <li>91% are experiencing difficulty with production and distribution</li>
                  <li>48% experiencing significant impacts. </li>
                  <p> **A decrease from our previous survey in May.**</p>
                </ul>
              </div>
              <div class="col-md">
                <div id="supply-chart"></div>
              </div>
          </div>
          <div class="divider-custom">
            <div class="divider-custom-line"></div>
          </div>
          <div class="row">
              <div class="col-md">
                    <div class="card-title">What percentage of your industry business’s employees have been furloughed or laid off?</div>
                  <br>
                  <ul>
                  <li> 47% of our member’s businesses have laid off or furloughed a portion of their workforce.</li>
                  <li> 36% of businesses are reporting they are hiring and more employees are needed.</li>
                </ul>

                    <p> This is the first uptick in hiring reported amongst our membership since the start of the pandemic. </p>
                </div>
                <div class="col-md">
                  <div id="mlaid-chart"></div>
                </div>
            </div>
            <div class="divider-custom">
              <div class="divider-custom-line"></div>
            </div>
            <div class="row">
              <div class="col-md">
                <div class="card">
                  <div id="alaid-chart"></div>
                </div>
              </div>
            <div class="col">
                <div class="card-title">What percentage of your trade association's employees have been furloughed or laid off?</div>
                <p> _% of trade associations have laid off ___ (lindsey)</p>
            </div>
          </div>
          <div class="divider-custom">
            <div class="divider-custom-line"></div>
          </div>

              <center>
                <div id="deck-4" class="card-deck counts">
                  <div class="card">
                    <center>
                      <div class="card-title">83% of ORR’s Members Depend on Seasonal Employment</div>
                      <p> Covid-19 impacts on seasonal hiring: </p>
                    </center>
                    <div id="seasonal-pie"></div>
                  </div>
                </div>
              </center>
              <div class="divider-custom">
                <div class="divider-custom-line"></div>
              </div>
              <div class="row">
                <div class="col-md">
                      <div id="total-chart"></div>
              </div>
              <div class="col-md">

                  <div class="card-title">How have sales and revenue changed for your association and for your members?</div>
                <p>Trade Assocations</p>
                <ul>
                <li>70% report a decrease in revenue </li>
                <li>13% seeing a decrease of 50-75% or greater. </li>
                <li>9% reporting an increase compared to one year ago. </li>
              </ul><p>Industry Businesses</p>
              <ul>
                <li>65% of outdoor industry businesses are experiencing a decrease in sales </li>
                <li>17% seeing a decrease of 50-75% or greater</li>
                 <li>22% of businesses are reporting an increase compared to one year ago. </li>
               <ul>
            </div>
              </div>
              <div class="divider-custom">
                <div class="divider-custom-line"></div>
              </div>
              <div class="row">
                <div class="col-md">

                    <div class="card-title">How have budgets and expenses changed for your association and for your members?</div>
                    <br>
                    <ul>
                  <li> 50% of trade associations and industry businesses are reporting a sustained tightening of their budgets compared this time last year</li>

                  <li>4% of industry businesses have reported in increase in their budgets compared to this time last year</li>
                </ul>
                </div>
              <div class="col-md">
                    <div id="budget-chart"></div>
                  </div>
                </div>

                <!-- <div class="divider-custom">
                  <div class="divider-custom-line"></div>
                </div>
                <div id="deck-4" class="card-deck counts">
                  <div class="card">
                    <center>
                      <div class="card-title">How have employment needs changed for your association AND for your members?</div>
                    </center>
                    <div id="employ-chart"></div>
                  </div>
                </div> -->
                <div class="divider-custom">
                  <div class="divider-custom-line"></div>
                </div>
                <div class="row">
                  <div class="col-md">
                  <div id="emp-time"></div>
                </div>
                <div class="col-md">
                    <div class="card-title">How trade assocations needs for employment have changed when comparing the month surveyed to last year's employment needs.</div>
                <p> Trade associations are reporting improving conditions with an increase in hiring while temporary furloughs are decreasing compared to May, however there is still an increase in layoffs compared to this time last year. </p>
              </div>
              </div>


            </section>
  <!-- About Section-->
<section id="twitter">
    <div class="row">
      <div class="col-md-12"></div>
      <div class="container">
        <div class="col-md-12">

            <a class="twitter-timeline" data-theme="light" href="https://twitter.com/ORRoundtable?ref_src=twsrc%5Etfw" data-tweet-limit="5">Tweets by ORRoundtable</a>
            <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
          </div>
        </div>
      </div>
    </div>
  </section>
  <section id="assocations">
    <div id="deck-4" class="card-deck counts">
      <div class="card">
        <center>
          <div class="card-title">Participating Associations</div>
          <span>
            <div class="membering">
              <a href="https://www.americaoutdoors.org/" target="_blank"><img src="img\members\AO.png"></a>
              <a href="https://www.horsecouncil.org/" target="_blank"><img src="img\members\AHC.jpg"></a>
              <a href="https://amga.com/" target="_blank"><img src="img\members\AMGA.jpg"></a>
              <a href="https://asafishing.org/" target="_blank"><img src="img\members\ASA.jpg"></a>
              <a href="https://www.archerytrade.org/" target="_blank"><img src="img\members\ATA.png"></a>
              <a href="https://www.arvc.org/" target="_blank"><img src="img\members\ARVC.jpg"></a>
              <a href="https://www.dema.org/" target="_blank"><img src="img\members\DEMA.png"></a>
              <a href="https://www.mraa.com/default.aspx" target="_blank"><img src="img\members\MRAA.png"></a>
              <a href="https://www.mic.org/#/" target="_blank"><img src="img\members\MIC.png"></a>
              <a href="http://nfra.org/" target="_blank"><img src="img\members\NFRA.jpg"></a>
              <a href="https://www.nmma.org/" target="_blank"><img src="img\members\NMMA.jpg"></a>
              <a href="http://www.parkpartners.org/" target="_blank"><img src="img\members\NHPA.png"></a>
              <a href="https://peopleforbikes.org/" target="_blank"><img src="img\members\PFB.jpg"></a>
              <a href="https://www.rvda.org/" target="_blank"><img src="img\members\RVDA.png"></a>
              <a href="https://www.rvia.org/" target="_blank"><img src="img\members\RVIA.jpg"></a>
              <a href="https://snowsports.org/" target="_blank"><img src="img\members\SIA.jpg"></a>
              <a href="http://www.snowmobile.org/" target="_blank"><img src="img\members\ISMA.png"></a>
              <a href="https://www.sema.org/" target="_blank"><img src="img\members\SEMA.png"></a>
              <a href="https://www.sfia.org/" target="_blank"><img src="img\members\SFIA.jpg"></a>
              <a href="https://corpsnetwork.org/" target="_blank"><img src="img\members\TCN.png"></a>
            </div>
          </span>
        </center>
      </div>
    </div>
    <div id="disclaimer" class="card-deck counts">
  <div class="card">
    <center>
      <div class="card-title">
        Data Disclaimer
      </div>
    </center>
    <p>
      *This interactive web dashboard enables users to track the Outdoor Recreation Roundtable (ORR)
      workforce survey.The supporting dataset is collected monthly and uploaded into this web application.
      The data displayed is reflective of the answers and estimates provided by the participating associations.
    </p>
  </div>
</div>
  </section>



  <!-- Footer-->
  <footer class="footer text-center">
    <div class="container">
      <div class="row">
        <!-- Footer Location-->
        <div class="col-lg-4 mb-5 mb-lg-0">
          <h4 class="text-uppercase mb-4">Location</h4>
          <p class="lead mb-0">
            1203 K Street, NW Suite 350
            <br />
            Washington, D.C. 20005
          </p>
        </div>
        <!-- Footer Social Icons-->
        <div class="col-lg-4 mb-5 mb-lg-0">
          <h4 class="text-uppercase mb-4">Around the Web</h4>
          <a class="btn btn-outline-light btn-social mx-1" href="https://www.facebook.com/OutdoorRecreationRoundtable/"><i class="fab fa-fw fa-facebook-f"></i></a>
          <a class="btn btn-outline-light btn-social mx-1" href="https://twitter.com/ORRoundtable"><i class="fab fa-fw fa-twitter"></i></a>
          <a class="btn btn-outline-light btn-social mx-1" href="https://recreationroundtable.org/"><i class="fa fa-link"></i></a>
        </div>
        <!-- Footer About Text-->
        <div class="col-lg-4">
          <h4 class="text-uppercase mb-4">About ORR</h4>
          <p class="lead mb-0">
            The Premier Coalition of Outdoor Recreation Trade Associations.
          </p>
        </div>
      </div>
    </div>
  </footer>
  <!-- Copyright Section-->
  <div class="copyright py-4 text-center text-white">
    <div class="container"><small>Copyright © ORR 2020</small></div>
  </div>
  <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
  <div class="scroll-to-top d-lg-none position-fixed">
    <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top"><i class="fa fa-chevron-up"></i></a>
  </div>

  <script>
  $(window).ready(function() {
    $('.loader').fadeOut("slow");
  });
  var color4 = chroma.scale(['#5c8e53', '#2a4c7e']).mode('lch').colors(4);
  var color5 = chroma.scale(['#5c8e53', '#2a4c7e']).mode('lch').colors(5);
  var color6 = chroma.scale(['#5c8e53', '#2a4c7e']).mode('lch').colors(6);
  var color7 = chroma.scale(['#5c8e53', '#2a4c7e','#8E535C']).mode('lch').colors(7);
  $.fn.digits = function() {
    return this.each(function() {
      $(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
    })
   }

  Promise.all([
  d3.csv('assets/orr8.csv',d3.autoType),
  d3.csv('assets/allq1.csv',d3.autoType),
  d3.csv('assets/salesper.csv',d3.autoType),
  d3.csv('assets/budgetsper.csv',d3.autoType),
  d3.csv('assets/employ.csv',d3.autoType),
  d3.csv('assets/orr-1.csv',d3.autoType),
  d3.csv('assets/emplyp.csv',d3.autoType)
  ]).then(function(datasets) {
        $.fn.digits = function() {
          return this.each(function() {
            $(this).text($(this).text().replace(/(\d)(?=(\d\d\d)+(?!\d))/g, "$1,"));
          })
         }


        // var emplall = d3.nest()
        // .key(function(d) { return d.date})
        //   .rollup(function(v) { return {
        //     sum1: d3.sum(v, function(d) { return d.Number_Association_Employees; }),
        //     membus: d3.sum(v, function(d) { return d.Number_Member_Businesses; }),
        //     membusempl: d3.sum(v, function(d) { return d.Number_Member_Business_Employees; }),
        //     assrev: d3.sum(v, function(d) { return d.Association_annual_revenue; }),
        //     indrev: d3.sum(v, function(d) { return d.Industry_annual_revenue; }),
        //   }; })
        // .entries(datasets[0]);
        //
        //
        // emplall[2].value.membus=d3.format(",.2r")(emplall[2].value.membus)
        // emplall[2].value.membusempl=d3.format(".3~s")(emplall[2].value.membusempl)
        // emplall[2].value.assrev=d3.format(".3~s")(emplall[2].value.assrev)
        // emplall[2].value.indrev=d3.format(".3~s")(emplall[2].value.indrev)
        //
        //
        var parser = d3.timeParse("%m-%Y");
        // emplall.forEach(function(d) {
        //   d.key = parser(d.key);
        // });


        $(".sum1").text(datasets[5][0].All);
        $(".sum2").text(datasets[5][1].All);
        $(".sum3").text(datasets[5][2].All);
        $(".sum4").text("$" +datasets[5][3].All);
        $(".sum5").text("$" +datasets[5][4].All);
        $("#deck-one > div:nth-child(1) > center > p > span").digits();
        $("#deck-one > div:nth-child(2) > center > p > span").digits();
        $("#deck-one > div:nth-child(3) > center > p > span").digits();
        $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();
        datasets[1].forEach(function(d) {
        d.date = parser(d.date);
         });

         var date = ["date"];
         var supply5 = ["No Answer"];
         var supply1 = ["No, supply chain/distribution are unchanged"];
         var supply2 = ["No, but future changes possible"];
         var supply3 = ["Yes, but not significantly"];
         var supply4 = ["Yes, significantly"];

         var layoffAssoc1 = ["None"];
         var layoffAssoc2 = ["Less than 20%"];
         var layoffAssoc3 = ["21% to 40%"];
         var layoffAssoc4 = ["Over 40%"];
         var layoffAssoc5 = ["Do not know"];

         var layoffmemb1 = ["None- Mem"];
         var layoffmemb2 = ["Less than 20%- Mem"];
         var layoffmemb3 = ["21% to 40%- Mem"];
         var layoffmemb4 = ["Over 40%- Mem"];
         var layoffmemb5 = ["Do not know- Mem"];

           datasets[1].forEach(function(d) {
           date.push(new Date(d["date"]));
           supply5.push(+d["No Answer"]);
           supply1.push(+d["No, supply chain/distribution are unchanged"]);
           supply2.push(+d["No, but future changes possible"]);
           supply3.push(+d["Yes, but not significantly"]);
           supply4.push(+d["Yes, significantly"]);

           layoffAssoc1.push(+d["None"]);
           layoffAssoc2.push(+d["Less than 20%"]);
           layoffAssoc3.push(+d["21% to 40%"]);
           layoffAssoc4.push(+d["Over 40%"]);
           layoffAssoc5.push(+d["Do not know"]);

           layoffmemb1.push(+d["None- Mem"]);
           layoffmemb2.push(+d["Less than 20%- Mem"]);
           layoffmemb3.push(+d["21% to 40%- Mem"]);
           layoffmemb4.push(+d["Over 40%- Mem"]);
           layoffmemb5.push(+d["Do not know- Mem"]);
                     });


          var sales1 = ["Down 10% or less"];
          var sales2 = ["Down 11% to 25%"];
          var sales3 = ["Down 26% to 49%"];
          var sales4 = ["Down 50% to 74%"];
          var sales5 = ["Down 75% or more"];
          var sales6 = ["Flat"];
          var sales7 = ["Do not know"];
          var sales8 = ["Increase 10% or less"];
          var sales9 = ["Increase 11% to 25%"];
          var sales10 = ["Increase 26% to 49%"];


          datasets[2].forEach(function(d) {
          sales1.push(+d["Down 10% or less"]);
          sales2.push(+d["Down 11% to 25%"]);
          sales3.push(+d["Down 26% to 49%"]);
          sales4.push(+d["Down 50% to 74%"]);
          sales5.push(+d["Down 75% or more"]);
          sales6.push(+d["Flat"]);
          sales7.push(+d["Do not know"]);
          sales8.push(+d["Increase 10% or less"]);
          sales9.push(+d["Increase 11% to 25%"]);
          sales10.push(+d["Increase 26% to 49%"]);

                    });


          var budgets1 = ["Same or similar"];
          var budgets2 = ["Budget tightened, expenses slightly reduced"];
          var budgets3 = ["Budget tightened, expenses significantly reduced"];
          var budgets4 = ["Budget tightened, expenses increased"];
          var budgets5 = ["Both increased"];
          var budgets6 = ["Do not know"];
          var budgets7 = ["Budget increased, expenses reduced"];

          datasets[3].forEach(function(d) {
                    budgets1.push(+d["Same or similar"]);
                    budgets2.push(+d["Budget tightened, expenses slightly reduced"]);
                    budgets3.push(+d["Budget tightened, expenses significantly reduced"]);
                    budgets4.push(+d["Budget tightened, expenses increased"]);
                    budgets5.push(+d["Both increased"]);
                    budgets6.push(+d["Do not know"]);
                    budgets7.push(+d["Budget increased, expenses reduced"]);
          });

          var emply1 = ["No change"];
          var emply2 = ["We are hiring"];
          var emply3 = ["Temporary furloughs"];
          var emply4 = ["Laying off employees"];
          var emply5 = ["Closed doors, laid off most or all staff"];
          var emply6 = ["Do not know"];

          datasets[4].forEach(function(d) {
                      emply1.push(+d["No change"]);
                      emply2.push(+d["We are hiring"]);
                      emply3.push(+d["Temporary furloughs"]);
                      emply4.push(+d["Laying off employees"]);
                      emply5.push(+d["Closed doors, laid off most or all staff"]);
                      emply6.push(+d["Do not know"]);
              });
              var employ1 = ["No change"];
              var employ2 = ["We are hiring"];
              var employ3 = ["Temporary furloughs"];
              var employ4 = ["Laying off employees"];
              var employ5 = ["Closed doors, laid off most or all staff"];
              var employ6 = ["Do not know"];
              datasets[6].forEach(function(d) {
                          employ1.push(+d["No change"]);
                          employ2.push(+d["We are hiring"]);
                          employ3.push(+d["Temporary furloughs"]);
                          employ4.push(+d["Laying off employees"]);
                          employ5.push(+d["Closed doors, laid off most or all staff"]);
                          employ6.push(+d["Do not know"]);
                          });



$("#all").on("click", function() {

          var date = ["date"];
          var supply5 = ["No Answer"];
          var supply1 = ["No, supply chain/distribution are unchanged"];
          var supply2 = ["No, but future changes possible"];
          var supply3 = ["Yes, but not significantly"];
          var supply4 = ["Yes, significantly"];


            datasets[1].forEach(function(d) {
            date.push(new Date(d["date"]));
            supply5.push(+d["No Answer"]);
            supply1.push(+d["No, supply chain/distribution are unchanged"]);
            supply2.push(+d["No, but future changes possible"]);
            supply3.push(+d["Yes, but not significantly"]);
            supply4.push(+d["Yes, significantly"]);
            });


            $(".sum1").text(datasets[5][0].All);
            $(".sum2").text(datasets[5][1].All);
            $(".sum3").text(datasets[5][2].All);
            $(".sum4").text("$" +datasets[5][3].All);
            $(".sum5").text("$" +datasets[5][4].All);
            $("#deck-one > div:nth-child(1) > center > p > span").digits();
            $("#deck-one > div:nth-child(2) > center > p > span").digits();
            $("#deck-one > div:nth-child(3) > center > p > span").digits();
            $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();
        })

        // var empl = d3.nest()
        // .key(function(d) { return d.date; })
        // .key(function(d) { return d.Tag; })
        //   .rollup(function(v) { return {
        //     sum1: d3.sum(v, function(d) { return d.Number_Association_Employees; }),
        //     membus: d3.sum(v, function(d) { return d.Number_Member_Businesses; }),
        //     membusempl: d3.sum(v, function(d) { return d.Number_Member_Business_Employees; }),
        //     assrev: d3.sum(v, function(d) { return d.Association_annual_revenue; }),
        //     indrev: d3.sum(v, function(d) { return d.Industry_annual_revenue; }),
        //   }; })
        // .entries(datasets[0]);
        //
        //
        //
        // empl.forEach(function(d) {
        //   d.key = parser(d.key);
        // });




  $("#fishing").on("click", function() {

    $(".sum1").text(datasets[5][0].Fishing);
    $(".sum2").text(datasets[5][1].Fishing);
    $(".sum3").text(datasets[5][2].Fishing);
    $(".sum4").text("$" + datasets[5][3].Fishing);
    $(".sum5").text( datasets[5][4].Fishing);
              $("#deck-one > div:nth-child(1) > center > p > span").digits();
              $("#deck-one > div:nth-child(2) > center > p > span").digits();
              $("#deck-one > div:nth-child(3) > center > p > span").digits();
              $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();

            })
      $("#camping").on("click", function() {
        $(".sum1").text(datasets[5][0].Camping);
        $(".sum2").text(datasets[5][1].Camping);
        $(".sum3").text(datasets[5][2].Camping);
        $(".sum4").text("$" +datasets[5][3].Camping);
        $(".sum5").text("$" +datasets[5][4].Camping);
                  $("#deck-one > div:nth-child(1) > center > p > span").digits();
                  $("#deck-one > div:nth-child(2) > center > p > span").digits();
                  $("#deck-one > div:nth-child(3) > center > p > span").digits();
                  $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();

                })


      $("#hunting").on("click", function() {
        $(".sum1").text(datasets[5][0].Hunting);
        $(".sum2").text(datasets[5][1].Hunting);
        $(".sum3").text(datasets[5][2].Hunting);
        $(".sum4").text("$" +datasets[5][3].Hunting);
        $(".sum5").text(datasets[5][4].Hunting);
                   $("#deck-one > div:nth-child(1) > center > p > span").digits();
                   $("#deck-one > div:nth-child(2) > center > p > span").digits();
                   $("#deck-one > div:nth-child(3) > center > p > span").digits();
                   $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();


                 })

      $("#snow").on("click", function() {
        $(".sum1").text(datasets[5][0].Snow);
        $(".sum2").text(datasets[5][1].Snow);
        $(".sum3").text(datasets[5][2].Snow);
        $(".sum4").text("$" +datasets[5][3].Snow);
        $(".sum5").text("$" +datasets[5][4].Snow);
        $("#deck-one > div:nth-child(1) > center > p > span").digits();
        $("#deck-one > div:nth-child(2) > center > p > span").digits();
        $("#deck-one > div:nth-child(3) > center > p > span").digits();
        $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();
                })

      $("#water").on("click", function() {
        $(".sum1").text(datasets[5][0].Water);
        $(".sum2").text(datasets[5][1].Water);
        $(".sum3").text(datasets[5][2].Water);
        $(".sum4").text("$" +datasets[5][3].Water);
        $(".sum5").text("$" +datasets[5][4].Water);
                  $("#deck-one > div:nth-child(1) > center > p > span").digits();
                  $("#deck-one > div:nth-child(2) > center > p > span").digits();
                  $("#deck-one > div:nth-child(3) > center > p > span").digits();
                  $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();
                          })
      $("#gear").on("click", function() {
        $(".sum1").text(datasets[5][0].Gear);
        $(".sum2").text(datasets[5][1].Gear);
        $(".sum3").text(datasets[5][2].Gear);
        $(".sum4").text("$" +datasets[5][3].Gear);
        $(".sum5").text("$" +datasets[5][4].Gear);
                  $("#deck-one > div:nth-child(1) > center > p > span").digits();
                  $("#deck-one > div:nth-child(2) > center > p > span").digits();
                  $("#deck-one > div:nth-child(3) > center > p > span").digits();
                  $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();
                                              })

      $("#guides").on("click", function() {

        $(".sum1").text(datasets[5][0].Guides);
        $(".sum2").text(datasets[5][1].Guides);
        $(".sum3").text(datasets[5][2].Guides);
        $(".sum4").text("$" +datasets[5][3].Guides);
        $(".sum5").text("$" +datasets[5][4].Guides);
            $("#deck-one > div:nth-child(1) > center > p > span").digits();
            $("#deck-one > div:nth-child(2) > center > p > span").digits();
            $("#deck-one > div:nth-child(3) > center > p > span").digits();
            $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();
                                                                                      })




    $("#motor").on("click", function() {
      $(".sum1").text(datasets[5][0].Motor);
      $(".sum2").text(datasets[5][1].Motor);
      $(".sum3").text(datasets[5][2].Motor);
      $(".sum4").text("$" +datasets[5][3].Motor);
      $(".sum5").text("$" +datasets[5][4].Motor);
            $("#deck-one > div:nth-child(1) > center > p > span").digits();
            $("#deck-one > div:nth-child(2) > center > p > span").digits();
            $("#deck-one > div:nth-child(3) > center > p > span").digits();
            $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();
          })
  $("#service").on("click", function() {
    $(".sum1").text(datasets[5][0].Service);
    $(".sum2").text(datasets[5][1].Service);
    $(".sum3").text(datasets[5][2].Service);
    $(".sum4").text("$" +datasets[5][3].Service);
    $(".sum5").text("$" +datasets[5][4].Service);
                  $("#deck-one > div:nth-child(1) > center > p > span").digits();
                  $("#deck-one > div:nth-child(2) > center > p > span").digits();
                  $("#deck-one > div:nth-child(3) > center > p > span").digits();
                  $("#supply-chart > svg > g:nth-child(2) > g.c3-axis.c3-axis-x > g > text").hide();
                })



                                            var supplychart = c3.generate({
                                                  bindto: "#supply-chart",
                                                  padding: {
                                                    right: 20
                                                  },
                                                  data: {
                                                    x: 'date',
                                                    stack: {
                                                      normalize: true
                                                    },
                                                    columns: [date, supply1, supply2,supply3,supply4,supply5 ],
                                                    types: {
                                                      'Yes, significantly': 'area-spline',
                                                      'Yes, but not significantly': 'area-spline',
                                                      'No, but future changes possible':'area-spline',
                                                      'No, supply chain/distribution are unchanged':'area-spline',
                                                      'No Answer':'area-spline',

                                                    },
                                                    groups: [
                                                      ['Yes, significantly', 'Yes, but not significantly', 'No, but future changes possible', 'No, supply chain/distribution are unchanged', 'No Answer']
                                                    ],
                                                  },
                                                  color: {
                                                    pattern: [color7[0], color7[1], color7[2], color7[3], color7[4], color7[5], color7[6], 'grey']
                                                  },
                                                  axis: {
                                                    x: {
                                                      type: 'timeseries',
                                                      tick: {
                                                        format: '%b-%Y'
                                                      }
                                                    },

                                                  },
                                                  tooltip: {
                                                    format: {
                                                      value: function (value, ratio, id) {
                                                        var format = id === 'data1' ? d3.format(',') : d3.format('.2%');
                                                        return format(ratio);
                                                      }

                                                      }
                                                    }
                                                });
                                                alaidchart = c3.generate({
                                                  padding: {
                                                    right: 20
                                                  },
                                                  data: {
                                                    x: "date",
                                                    stack: {
                                                      normalize: true
                                                    },
                                                    columns: [date, layoffAssoc1, layoffAssoc2, layoffAssoc3, layoffAssoc4, layoffAssoc5],
                                                    types: {
                                                      'None': 'area-spline',
                                                      'Less than 20%': 'area-spline',
                                                      '21% to 40%':'area-spline',
                                                      'Over 40%':'area-spline',
                                                      'Do not know':'area-spline'

                                                    },
                                                    groups: [
                                                      ['None', 'Less than 20%', '21% to 40%', 'Over 40%', 'Do not know']
                                                    ]

                                                  },
                                                  color: {
                                                    pattern: [color7[0], color7[1], color7[2], color7[3], color7[4], 'grey']
                                                  },
                                                  axis: {
                                                    x: {
                                                      type: "timeseries",
                                                        tick: {
                                                          format: "%b %Y",
                                                        }
                                                      },
                                                      rotated: false
                                                    },
                                                    tooltip: {
                                                      format: {
                                                        value: function(value, ratio, id) {
                                                          var format = id === 'data1' ? d3.format(',') : d3.format('.2%');
                                                          return format(ratio);
                                                        }
                                                      },
                                                      show: true,
                                                      grouped: false,
                                                    },
                                                    bindto: "#alaid-chart"
                                                  });

                                                  mlaidchart = c3.generate({
                                                    padding: {
                                                      right: 20
                                                    },
                                                    data: {
                                                      x: "date",
                                                      stack: {
                                                        normalize: true
                                                      },
                                                      columns: [date, layoffmemb1, layoffmemb2, layoffmemb3, layoffmemb4, layoffmemb5],
                                                       types: {
                                                         'None- Mem': 'area-spline',
                                                         'Less than 20%- Mem': 'area-spline',
                                                         '21% to 40%- Mem':'area-spline',
                                                         'Over 40%- Mem':'area-spline',
                                                         'Do not know- Mem':'area-spline'

                                                       },
                                                      groups: [
                                                        ['None- Mem', 'Less than 20%- Mem', '21% to 40%- Mem', 'Over 40%- Mem', 'Do not know- Mem']
                                                      ],
                                                      names: {
                                                        'None- Mem': 'None', 'Less than 20%- Mem':'Less than 20%', '21% to 40%- Mem':'21% to 40%', 'Over 40%- Mem':'Over 40%',
                                                        'Do not know- Mem':'Do not know'
                                                      },

                                                    },
                                                    color: {
                                                      pattern: [color7[0], color7[1], color7[2], color7[3], color7[4], 'grey']
                                                    },
                                                    axis: {
                                                      x: {
                                                        type: "timeseries",
                                                          tick: {
                                                            format: "%b %Y",
                                                          }
                                                        },

                                                        rotated: false
                                                      },
                                                      legend: {
                                                        position: 'center'
                                                      },
                                                      tooltip: {
                                                        format: {
                                                          value: function(value, ratio, id) {
                                                            var format = id === 'data1' ? d3.format(',') : d3.format('.2%');
                                                            return format(ratio);
                                                          }
                                                        },
                                                        show: true,
                                                        grouped: false,
                                                      },
                                                      bindto: "#mlaid-chart"
                                                    });

                                                var chart = c3.generate({
                                                      bindto: "#total-chart",
                                                      data: {
                                                        columns: [ sales1,sales2,sales3,sales4,sales5,sales6,sales7,sales8,sales9,sales10 ],
                                                        type: 'bar',
                                                        // labels: true,

                                                      },
                                                      color: {
                                                        pattern: [color7[0], color7[1], color7[2], color7[3], color7[4],color7[5],color7[6], 'grey']
                                                      },

                                                      axis: {
                                                        x: {
                                                          type: "category",
                                                          categories: ['compared to last month? (industry businesses)', 'compared to 1 year ago? (industry businesses)', 'compared to last month? (trade association)', 'compared to 1 year ago? (trade association)']
                                                        },
                                                        y: {
                                                          tick: {
                                                            format: d3.format(".2%")
                                                          }
                                                        },
                                                        rotated: true
                                                      },
                                                      tooltip: {

                                                          show: true,
                                                          grouped: false,
                                                        }
                                                    });
                                                    chart = c3.generate({

                                                      data: {
                                                        stack: {
                                                          normalize: true
                                                        },
                                                        columns: [budgets1,budgets2,budgets3,budgets4,budgets5,budgets6,budgets7],
                                                        type: 'bar',

                                                        order: null // stack order by data definition.
                                                      },
                                                      color: {
                                                        pattern: [color7[0], color7[1], color7[2], color7[3], color7[4],color7[5],color7[6], 'grey']
                                                      },
                                                        axis: {
                                                          x: {
                                                            type: "category",
                                                            categories: ['compared to last month? (industry businesses)', 'compared to 1 year ago? (industry businesses)', 'compared to last month? (trade association)', 'compared to 1 year ago? (trade association)']
                                                          },
                                                          y: {
                                                            tick: {
                                                              format: d3.format(".2%")
                                                            }
                                                          },
                                                          rotated: true
                                                        },
                                                        tooltip: {

                                                          show: true,
                                                          grouped: false,
                                                        },
                                                        bindto: "#budget-chart"
                                                      });
                                                      var seasonalpie = c3.generate({
                                                          data: {
                                                              columns: [
                                                                  ['Decreasing', 11],
                                                                  ['Increasing', 5],
                                                                  ['Same', 3],
                                                              ],
                                                              names: {
                                                                'Decreasing': 'Decreasing Hiring',
                                                                'Increasing': 'Increasing Hiring',
                                                                'Same': 'Hiring has remained the Same'

                                                              },
                                                              type : 'pie',
                                                          },
                                                          color: {
                                                            pattern: [color4[0], color4[1], color4[2]]
                                                          },
                                                          bindto: "#seasonal-pie"

                                                      });
                                                      var empchart = c3.generate({
                                                        data: {
                                                          stack: {
                                                            normalize: true
                                                          },
                                                          columns: [emply1, emply2, emply3, emply4, emply5, emply6],
                                                          type: 'bar',
                                                          // labels: true,
                                                          groups: [
                                                            ['No change', 'We are hiring', 'Temporary furloughs', 'Laying off employees',
                                                            'Closed doors, laid off most or all staff', 'Do not know'
                                                          ]
                                                        ],
                                                        order: null // stack order by data definition.
                                                      }                                                   ,
                                                      color: {
                                                        pattern: [color5[0], color5[1], color5[2], color5[3], color5[4], 'grey']
                                                      },
                                                      axis: {
                                                        x: {
                                                          type: "category",
                                                          categories: ['compared to last month? (industry businesses)', 'compared to 1 year ago? (industry businesses)', 'compared to last month? (trade association)', 'compared to 1 year ago? (trade association)']
                                                        },
                                                        rotated: true
                                                      },
                                                      tooltip: {
                                                        format: {
                                                          value: function(value, ratio, id) {
                                                            var format = id === 'data1' ? d3.format(',') : d3.format('.2%');
                                                            return format(ratio);
                                                          }
                                                        },
                                                        show: true,
                                                        grouped: false,
                                                      },
                                                      bindto: "#employ-chart"
                                                    });

                                                    emptime = c3.generate({
                                                      padding: {
                                                        right: 20
                                                      },
                                                      data: {
                                                        x: "date",
                                                        stack: {
                                                          normalize: true
                                                        },
                                                        columns: [date, employ1,employ2, employ3, employ4],

                                                      },
                                                      color: {
                                                        pattern: [color7[0], color7[1], color7[2], color7[3], color7[4], 'grey']
                                                      },
                                                      axis: {
                                                        x: {
                                                          type: "timeseries",
                                                            tick: {
                                                              format: "%b %Y",
                                                            }
                                                          },
                                                          y : {
                                                            tick: {
                                                              format: d3.format(".2%")

                                                            }
                                                          },
                                                          rotated: false
                                                        },
                                                        tooltip: {
                                                          // format: {
                                                          //   value: function(value, ratio, id) {
                                                          //     var format = id === 'data1' ? d3.format(',') : d3.format('.2%');
                                                          //     return format(ratio);
                                                          //   }
                                                          // },
                                                          show: true,
                                                          grouped: false,
                                                        },
                                                        bindto: "#emp-time"
                                                      });







      });



 </script>

  <!-- Bootstrap core JS-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.bundle.min.js"></script>
  <!-- Third party plugin JS-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
  <!-- Contact form JS-->
  <script src="assets/mail/jqBootstrapValidation.js"></script>
  <script src="assets/mail/contact_me.js"></script>
  <!-- Core theme JS-->
  <script src="js/scripts.js"></script>
</body>

</html>
